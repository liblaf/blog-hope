import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as i,o as e}from"./app-BMihMyie.js";const l={};function p(d,s){return e(),a("div",null,[...s[0]||(s[0]=[i(`<h2 id="bios-setup" tabindex="-1"><a class="header-anchor" href="#bios-setup"><span>BIOS Setup</span></a></h2><ul><li>change hard drive mode from “RAID” to “ACHI/NVME”</li></ul><h2 id="partitioning-for-efi-system" tabindex="-1"><a class="header-anchor" href="#partitioning-for-efi-system"><span>Partitioning for EFI System</span></a></h2><ul><li>disable “Secure Boot”</li><li>boot Arch Linux ISO</li></ul><h3 id="optional-connect-from-another-device" tabindex="-1"><a class="header-anchor" href="#optional-connect-from-another-device"><span>[Optional] Connect from Another Device</span></a></h3><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # passwd</span></span>
<span class="line"><span>New password:</span></span>
<span class="line"><span>Retype new password:</span></span>
<span class="line"><span>passwd: password updated succesfully</span></span>
<span class="line"><span>root@archiso ~ # systemctl start sshd</span></span>
<span class="line"><span>root@archiso ~ # systemctl status sshd</span></span>
<span class="line"><span>● sshd.service - OpenSSH Daemon</span></span>
<span class="line"><span>     Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; preset: disabled)</span></span>
<span class="line"><span>     Active: active (running) since Wed 2023-03-08 06:08:32 UTC; 1min 36s ago</span></span>
<span class="line"><span>   Main PID: 508 (sshd)</span></span>
<span class="line"><span>      Tasks: 1 (limit: 19074)</span></span>
<span class="line"><span>     Memory: 4.2M</span></span>
<span class="line"><span>        CPU: 145ms</span></span>
<span class="line"><span>     CGroup: /system.slice/sshd.service</span></span>
<span class="line"><span>             └─508 &quot;sshd: /usr/bin/sshd -D [listener] 0 of 10-100 startups&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Mar 08 06:08:32 archiso systemd[1]: Started OpenSSH Daemon.</span></span>
<span class="line"><span>Mar 08 06:08:33 archiso sshd[508]: Server listening on 0.0.0.0 port 22.</span></span>
<span class="line"><span>Mar 08 06:08:33 archiso sshd[508]: Server listening on :: port 22.</span></span>
<span class="line"><span>root@archiso ~ # ip addr</span></span>
<span class="line"><span>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></span>
<span class="line"><span>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></span>
<span class="line"><span>    inet 127.0.0.1/8 scope host lo</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span>
<span class="line"><span>    inet6 ::1/128 scope host</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span>
<span class="line"><span>2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000</span></span>
<span class="line"><span>    link/ether 08:00:27:12:bc:70 brd ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span>    inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3</span></span>
<span class="line"><span>       valid_lft 86284sec preferred_lft 86284sec</span></span>
<span class="line"><span>    inet6 fe80::a00:27ff:fe12:bc70/64 scope link</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ssh-from-another-device" tabindex="-1"><a class="header-anchor" href="#ssh-from-another-device"><span>SSH from Another Device</span></a></h6><blockquote><p>I’m using Port Forwarding in this example.</p></blockquote><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ ssh -p 22222 root@127.0.0.1</span></span>
<span class="line"><span>root@127.0.0.1&#39;s password:</span></span>
<span class="line"><span>To install Arch Linux follow the installation guide:</span></span>
<span class="line"><span>https://wiki.archlinux.org/title/Installation_guide</span></span>
<span class="line"><span></span></span>
<span class="line"><span>For Wi-Fi, authenticate to the wireless network using the iwctl utility.</span></span>
<span class="line"><span>For mobile broadband (WWAN) modems, connect with the mmcli utility.</span></span>
<span class="line"><span>Ethernet, WLAN and WWAN interfaces using DHCP should work automatically.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>After connecting to the internet, the installation guide can be accessed</span></span>
<span class="line"><span>via the convenience script Installation_guide.</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Last login: Wed Mar  8 06:09:54 2023 from 10.0.2.2</span></span>
<span class="line"><span>root@archiso ~ #</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="partitioning" tabindex="-1"><a class="header-anchor" href="#partitioning"><span>Partitioning</span></a></h3><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # fdisk -l</span></span>
<span class="line"><span>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>Disk model: VBOX HARDDISK</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disk /dev/loop0: 688.47 MiB, 721911808 bytes, 1409984 sectors</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span>root@archiso ~ # cfdisk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>select label type: <code>gpt</code></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>                                 Disk: /dev/sda</span></span>
<span class="line"><span>              Size: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>          Label: gpt, identifier: 1355000F-BBCD-634E-82AD-5AA1BCB6064A</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Device               Start           End      Sectors     Size Type</span></span>
<span class="line"><span>&gt;&gt;  /dev/sda1             2048       2099199      2097152       1G EFI System</span></span>
<span class="line"><span>    Free space         2099200     536870878    534771679     255G</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> ┌────────────────────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span> │Partition UUID: AD8D5ED1-76CF-CF49-A736-89782BC63BCF                        │</span></span>
<span class="line"><span> │Partition type: EFI System (C12A7328-F81F-11D2-BA4B-00A0C93EC93B)           │</span></span>
<span class="line"><span> └────────────────────────────────────────────────────────────────────────────┘</span></span>
<span class="line"><span>     [ Delete ]  [ Resize ]  [  Quit  ]  [  Type  ]  [  Help  ]  [  Write ]</span></span>
<span class="line"><span>     [  Dump  ]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            Write partition table to disk (this might destroy data)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Write</code></li><li><code>Quit</code></li></ul><h6 id="double-check-partition" tabindex="-1"><a class="header-anchor" href="#double-check-partition"><span>Double Check Partition</span></a></h6><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # fdisk -l</span></span>
<span class="line"><span>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>Disk model: VBOX HARDDISK</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span>Disklabel type: gpt</span></span>
<span class="line"><span>Disk identifier: 1355000F-BBCD-634E-82AD-5AA1BCB6064A</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Device     Start     End Sectors Size Type</span></span>
<span class="line"><span>/dev/sda1   2048 2099199 2097152   1G EFI System</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disk /dev/loop0: 688.47 MiB, 721911808 bytes, 1409984 sectors</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # shutdown now</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="install-windows" tabindex="-1"><a class="header-anchor" href="#install-windows"><span>Install Windows</span></a></h2><ul><li>[if not bypass Windows 11 hardware check] enable “Secure Boot”</li><li>boot Windows ISO</li></ul><h3 id="partitioning-1" tabindex="-1"><a class="header-anchor" href="#partitioning-1"><span>Partitioning</span></a></h3><p><img src="https://cdn.liblaf.me/img/2023/2023-03-08T062206Z.png" alt="Before Partitioning" loading="lazy"></p><p><img src="https://cdn.liblaf.me/img/2023/2023-03-08T062232Z.png" alt="After Partitioning" loading="lazy"></p><h2 id="install-arch-linux" tabindex="-1"><a class="header-anchor" href="#install-arch-linux"><span>Install Arch Linux</span></a></h2><ul><li>disable “Secure Boot”</li><li>boot Arch Linux ISO</li></ul><h3 id="optional-connect-from-another-device-1" tabindex="-1"><a class="header-anchor" href="#optional-connect-from-another-device-1"><span>[Optional] Connect from Another Device</span></a></h3><h3 id="partitioning-2" tabindex="-1"><a class="header-anchor" href="#partitioning-2"><span>Partitioning</span></a></h3><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # fdisk -l</span></span>
<span class="line"><span>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>Disk model: VBOX HARDDISK</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span>Disklabel type: gpt</span></span>
<span class="line"><span>Disk identifier: 1355000F-BBCD-634E-82AD-5AA1BCB6064A</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Device       Start       End   Sectors  Size Type</span></span>
<span class="line"><span>/dev/sda1     2048   2099199   2097152    1G EFI System</span></span>
<span class="line"><span>/dev/sda2  2099200   2131967     32768   16M Microsoft reserved</span></span>
<span class="line"><span>/dev/sda3  2131968 268437503 266305536  127G Microsoft basic data</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disk /dev/loop0: 688.47 MiB, 721911808 bytes, 1409984 sectors</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span>root@archiso ~ # cfdisk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>                                 Disk: /dev/sda</span></span>
<span class="line"><span>              Size: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>          Label: gpt, identifier: 1355000F-BBCD-634E-82AD-5AA1BCB6064A</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Device             Start         End    Sectors   Size Type</span></span>
<span class="line"><span>    /dev/sda1           2048     2099199    2097152     1G EFI System</span></span>
<span class="line"><span>    /dev/sda2        2099200     2131967      32768    16M Microsoft reserved</span></span>
<span class="line"><span>    /dev/sda3        2131968   268437503  266305536   127G Microsoft basic data</span></span>
<span class="line"><span>&gt;&gt;  /dev/sda4      268437504   536868863  268431360   128G Linux filesystem</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> ┌────────────────────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span> │Partition UUID: A5CE280D-AE22-AB4D-BB35-3A08BC98B95C                        │</span></span>
<span class="line"><span> │Partition type: Linux filesystem (0FC63DAF-8483-4772-8E79-3D69D8477DE4)     │</span></span>
<span class="line"><span> └────────────────────────────────────────────────────────────────────────────┘</span></span>
<span class="line"><span>     [ Delete ]  [ Resize ]  [  Quit  ]  [  Type  ]  [  Help  ]  [  Write ]</span></span>
<span class="line"><span>     [  Dump  ]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            Write partition table to disk (this might destroy data)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Write</code></li><li><code>Quit</code></li></ul><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # fdisk -l</span></span>
<span class="line"><span>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors</span></span>
<span class="line"><span>Disk model: VBOX HARDDISK</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span>Disklabel type: gpt</span></span>
<span class="line"><span>Disk identifier: 1355000F-BBCD-634E-82AD-5AA1BCB6064A</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Device         Start       End   Sectors  Size Type</span></span>
<span class="line"><span>/dev/sda1       2048   2099199   2097152    1G EFI System</span></span>
<span class="line"><span>/dev/sda2    2099200   2131967     32768   16M Microsoft reserved</span></span>
<span class="line"><span>/dev/sda3    2131968 268437503 266305536  127G Microsoft basic data</span></span>
<span class="line"><span>/dev/sda4  268437504 536868863 268431360  128G Linux filesystem</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disk /dev/loop0: 688.47 MiB, 721911808 bytes, 1409984 sectors</span></span>
<span class="line"><span>Units: sectors of 1 * 512 = 512 bytes</span></span>
<span class="line"><span>Sector size (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span>I/O size (minimum/optimal): 512 bytes / 512 bytes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="archinstall" tabindex="-1"><a class="header-anchor" href="#archinstall"><span>archinstall</span></a></h3><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>root@archiso ~ # archinstall</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Set/Modify the below options</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Archinstall language           set: English (100%)</span></span>
<span class="line"><span>  Keyboard layout                set: us</span></span>
<span class="line"><span>  Mirror region                  set: []</span></span>
<span class="line"><span>  Locale language                set: en_US</span></span>
<span class="line"><span>  Locale encoding                set: UTF-8</span></span>
<span class="line"><span>  Drive(s)                       set: 1 Drive(s)</span></span>
<span class="line"><span>&gt; Disk layout                    set: 4 Partitions</span></span>
<span class="line"><span>  Disk encryption</span></span>
<span class="line"><span>  Bootloader                     set: grub-install</span></span>
<span class="line"><span>  Swap                           set: True</span></span>
<span class="line"><span>  Hostname                       set: XPS-9320</span></span>
<span class="line"><span>  Root password                  set: None</span></span>
<span class="line"><span>  User account                   set: 1 User(s)</span></span>
<span class="line"><span>  Profile                        set: Profile(desktop)</span></span>
<span class="line"><span>  Audio                          set: pipewire</span></span>
<span class="line"><span>  Kernels                        set: [&#39;linux&#39;, &#39;linux-lts&#39;, &#39;linux-zen&#39;]</span></span>
<span class="line"><span>  Additional packages            set: [&#39;git&#39;, &#39;neovim&#39;]</span></span>
<span class="line"><span>  Network configuration          set: Use NetworkManager</span></span>
<span class="line"><span>  Timezone                       set: Asia/Shanghai</span></span>
<span class="line"><span>  Automatic time sync (NTP)      set: True</span></span>
<span class="line"><span>  Optional repositories          set: []</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Save configuration</span></span>
<span class="line"><span>  Install</span></span>
<span class="line"><span>  Abort</span></span>
<span class="line"><span>(Press &quot;/&quot; to search)</span></span>
<span class="line"><span>┌── Info ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│ Device: /dev/sda                                                                                                                    │</span></span>
<span class="line"><span>│                                                                                                                                     │</span></span>
<span class="line"><span>│    type  |               PARTUUID               |  wipe |  boot |  ESP  | mountpoint | encrypted |   start   |    size   | format   │</span></span>
<span class="line"><span>│ ----------------------------------------------------------------------------------------------------------------------------------- │</span></span>
<span class="line"><span>│  primary | ad8d5ed1-76cf-cf49-a736-89782bc63bcf | False |  True |  True |    /boot   |   False   |    2048   |  2097152  |  vfat    │</span></span>
<span class="line"><span>│  primary | ad5fd8af-9b3c-4c5e-b8dc-0aeb2a933dee | False | False | False |    None    |   False   |  2099200  |   32768   |  None    │</span></span>
<span class="line"><span>│  primary | 535b265a-fd89-44f3-aa5b-3252cd27a4ec | False | False | False |    None    |   False   |  2131968  | 266305536 |  ntfs    │</span></span>
<span class="line"><span>│  primary | 48dbcbd5-85ab-9d40-98c3-5b4c0473b8a8 |  True | False | False |      /     |   False   | 268437504 | 268431360 |  ext4    │</span></span>
<span class="line"><span>└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>wait for the installation to complete</li></ul><h3 id="change-boot-order" tabindex="-1"><a class="header-anchor" href="#change-boot-order"><span>Change Boot Order</span></a></h3><h2 id="post-installation" tabindex="-1"><a class="header-anchor" href="#post-installation"><span>Post Installation</span></a></h2><h3 id="enable-secure-boot-for-arch-linux" tabindex="-1"><a class="header-anchor" href="#enable-secure-boot-for-arch-linux"><span>Enable Secure Boot for Arch Linux</span></a></h3><h4 id="install-yay" tabindex="-1"><a class="header-anchor" href="#install-yay"><span>Install <code>yay</code></span></a></h4><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo pacman --sync --needed git</span></span>
<span class="line"><span>$ git clone https://aur.archlinux.org/yay.git</span></span>
<span class="line"><span>$ cd yay</span></span>
<span class="line"><span>$ makepkg --install --syncdeps</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="install-dependencies" tabindex="-1"><a class="header-anchor" href="#install-dependencies"><span>Install Dependencies</span></a></h4><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ yay --sync --needed sbctl sbsigntools shim-signed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="default-boot-layout" tabindex="-1"><a class="header-anchor" href="#default-boot-layout"><span>Default <code>/boot</code> Layout</span></a></h4><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>boot/</span></span>
<span class="line"><span>├── EFI/</span></span>
<span class="line"><span>│   ├── Boot/</span></span>
<span class="line"><span>│   │   └── bootx64.efi</span></span>
<span class="line"><span>│   └── Microsoft/</span></span>
<span class="line"><span>│       ├── Boot/</span></span>
<span class="line"><span>│       └── Recovery/</span></span>
<span class="line"><span>├── grub/</span></span>
<span class="line"><span>│   ├── fonts/</span></span>
<span class="line"><span>│   │   └── unicode.pf2</span></span>
<span class="line"><span>│   ├── grub.cfg</span></span>
<span class="line"><span>│   ├── grubenv</span></span>
<span class="line"><span>│   ├── locale/</span></span>
<span class="line"><span>│   │   └── *.mo</span></span>
<span class="line"><span>│   ├── themes/</span></span>
<span class="line"><span>│   │   └── starfield/</span></span>
<span class="line"><span>│   └── x86_64-efi/</span></span>
<span class="line"><span>│       └── *.mod</span></span>
<span class="line"><span>├── initramfs-linux-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts.img</span></span>
<span class="line"><span>├── initramfs-linux-zen-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-zen.img</span></span>
<span class="line"><span>├── initramfs-linux.img</span></span>
<span class="line"><span>├── vmlinuz-linux</span></span>
<span class="line"><span>├── vmlinuz-linux-lts</span></span>
<span class="line"><span>└── vmlinuz-linux-zen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="remove-old-boot" tabindex="-1"><a class="header-anchor" href="#remove-old-boot"><span>Remove Old Boot</span></a></h4><div class="hint-container caution"><p class="hint-container-title">Caution</p><p>KNOW WHAT YOU ARE DOING !!!</p><p>KNOW WHAT YOU ARE DOING !!!</p><p>KNOW WHAT YOU ARE DOING !!!</p></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo rm --recursive /boot/EFI/Boot /boot/grub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="install-grub" tabindex="-1"><a class="header-anchor" href="#install-grub"><span>Install GRUB</span></a></h4><h5 id="list-all-grub-modules" tabindex="-1"><a class="header-anchor" href="#list-all-grub-modules"><span>List All GRUB Modules</span></a></h5><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ find /usr/lib/grub/x86_64-efi/ -name &#39;*.mod&#39; -type f -printf &#39;%f\\n&#39; | cut --delimiter=&#39;.&#39; --fields=1 | sort | tr &#39;\\n&#39; &#39; &#39;</span></span>
<span class="line"><span>acpi adler32 affs afs afsplitter ahci all_video aout appleldr archelp ata at_keyboard backtrace bfs bitmap bitmap_scale blocklist boot boottime bsd bswap_test btrfs bufio cacheinfo cat cbfs cbls cbmemc cbtable cbtime chain cmdline_cat_test cmp cmp_test configfile cpio cpio_be cpuid crc64 crypto cryptodisk cs5536 ctz_test date datehook datetime disk diskfilter div div_test dm_nv echo efifwsetup efi_gop efinet efitextmode efi_uga ehci elf eval exfat exfctest ext2 extcmd f2fs fat file fixvideo font fshelp functional_test gcry_arcfour gcry_blowfish gcry_camellia gcry_cast5 gcry_crc gcry_des gcry_dsa gcry_idea gcry_md4 gcry_md5 gcry_rfc2268 gcry_rijndael gcry_rmd160 gcry_rsa gcry_seed gcry_serpent gcry_sha1 gcry_sha256 gcry_sha512 gcry_tiger gcry_twofish gcry_whirlpool geli gettext gfxmenu gfxterm gfxterm_background gfxterm_menu gptsync gzio halt hashsum hdparm hello help hexdump hfs hfsplus hfspluscomp http iorw iso9660 jfs jpeg json keylayouts keystatus ldm legacycfg legacy_password_test linux linux16 loadbios loadenv loopback ls lsacpi lsefi lsefimmap lsefisystab lsmmap lspci lssal luks luks2 lvm lzopio macbless macho mdraid09 mdraid09_be mdraid1x memdisk memrw minicmd minix minix2 minix2_be minix3 minix3_be minix_be mmap morse mpi msdospart mul_test multiboot multiboot2 nativedisk net newc nilfs2 normal ntfs ntfscomp odc offsetio ohci part_acorn part_amiga part_apple part_bsd part_dfly part_dvh part_gpt part_msdos part_plan part_sun part_sunpc parttool password password_pbkdf2 pata pbkdf2 pbkdf2_test pcidump pgp plainmount play png priority_queue probe procfs progress raid5rec raid6rec random rdmsr read reboot regexp reiserfs relocator romfs scsi search search_fs_file search_fs_uuid search_label serial setjmp setjmp_test setpci sfs shift_test signature_test sleep sleep_test smbios spkmodem squash4 strtoull_test syslinuxcfg tar terminal terminfo test test_blockarg testload testspeed tftp tga time tpm tr trig true udf ufs1 ufs1_be ufs2 uhci usb usb_keyboard usbms usbserial_common usbserial_ftdi usbserial_pl2303 usbserial_usbdebug usbtest video video_bochs video_cirrus video_colors video_fb videoinfo videotest videotest_checksum wrmsr xfs xnu xnu_uuid xnu_uuid_test xzio zfs zfscrypt zfsinfo zstd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="install-grub-1" tabindex="-1"><a class="header-anchor" href="#install-grub-1"><span>Install GRUB</span></a></h5><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo grub-install --target=x86_64-efi --efi-directory=/boot --modules=&quot;all_video boot btrfs cat chain configfile echo efifwsetup efinet ext2 fat font gettext gfxmenu gfxterm gfxterm_background gzio halt help hfsplus iso9660 jpeg keystatus loadenv loopback linux ls lsefi lsefimmap lsefisystab lssal memdisk minicmd normal ntfs part_apple part_msdos part_gpt password_pbkdf2 png probe reboot regexp search search_fs_uuid search_fs_file search_label sleep smbios squash4 test true video xfs zfs zfscrypt zfsinfo play cpuid tpm cryptodisk luks lvm mdraid09 mdraid1x raid5rec raid6rec&quot; --sbat /usr/share/grub/sbat.csv</span></span>
<span class="line"><span>Installing for x86_64-efi platform.</span></span>
<span class="line"><span>Installation finished. No error reported.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>boot/</span></span>
<span class="line"><span>├── EFI/</span></span>
<span class="line"><span>│   ├── arch/</span></span>
<span class="line"><span>│   │   └── grubx64.efi</span></span>
<span class="line"><span>│   └── Microsoft/</span></span>
<span class="line"><span>│       ├── Boot/</span></span>
<span class="line"><span>│       └── Recovery/</span></span>
<span class="line"><span>├── grub/</span></span>
<span class="line"><span>│   ├── fonts/</span></span>
<span class="line"><span>│   │   └── unicode.pf2</span></span>
<span class="line"><span>│   ├── grubenv/</span></span>
<span class="line"><span>│   ├── locale/</span></span>
<span class="line"><span>│   │   └── *.mo</span></span>
<span class="line"><span>│   ├── themes/</span></span>
<span class="line"><span>│   │   └── starfield/</span></span>
<span class="line"><span>│   └── x86_64-efi/</span></span>
<span class="line"><span>│       └── *.mod</span></span>
<span class="line"><span>├── initramfs-linux-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts.img</span></span>
<span class="line"><span>├── initramfs-linux-zen-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-zen.img</span></span>
<span class="line"><span>├── initramfs-linux.img</span></span>
<span class="line"><span>├── vmlinuz-linux</span></span>
<span class="line"><span>├── vmlinuz-linux-lts</span></span>
<span class="line"><span>└── vmlinuz-linux-zen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="create-a-machine-owner-key" tabindex="-1"><a class="header-anchor" href="#create-a-machine-owner-key"><span>Create a Machine Owner Key<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></span></a></h4><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ openssl req -newkey rsa:4096 -nodes -keyout MOK.key -new -x509 -sha256 -days 3650 -subj &quot;/CN=my Machine Owner Key/&quot; -out MOK.crt</span></span>
<span class="line"><span>$ openssl x509 -outform DER -in MOK.crt -out MOK.cer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo find /boot -maxdepth 1 -name &#39;vmlinuz-*&#39; -exec bash -c &#39;if ! sbverify --list {} 2&gt; /dev/null | grep -q &quot;signature certificates&quot;; then sbsign --key MOK.key --cert MOK.crt --output {} {}; fi&#39; &#39;;&#39;</span></span>
<span class="line"><span>Signing Unsigned original image</span></span>
<span class="line"><span>Signing Unsigned original image</span></span>
<span class="line"><span>Signing Unsigned original image</span></span>
<span class="line"><span>$ sudo bash -c &#39;if ! sbverify --list /boot/EFI/arch/grubx64.efi 2&gt; /dev/null | grep -q &quot;signature certificates&quot;; then sbsign --key MOK.key --cert MOK.crt --output /boot/EFI/arch/grubx64.efi /boot/EFI/arch/grubx64.efi; fi&#39;</span></span>
<span class="line"><span>Signing Unsigned original image</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="make-grub-config" tabindex="-1"><a class="header-anchor" href="#make-grub-config"><span>Make GRUB Config</span></a></h4><h5 id="edit-etc-default-grub" tabindex="-1"><a class="header-anchor" href="#edit-etc-default-grub"><span>Edit <code>/etc/default/grub</code></span></a></h5><div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-diff"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">diff --git a/etc/default/grub.0 b/etc/default/grub</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">index caa8772..5840abb 100644</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">--- a/etc/default/grub.0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">+++ b/etc/default/grub</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@@ -1,6 +1,6 @@</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # GRUB boot loader configuration</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-GRUB_DEFAULT=0</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+GRUB_DEFAULT=saved</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GRUB_TIMEOUT=5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GRUB_DISTRIBUTOR=&quot;Arch&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GRUB_CMDLINE_LINUX_DEFAULT=&quot;loglevel=3 quiet&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@@ -51,13 +51,13 @@ GRUB_DISABLE_RECOVERY=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # Uncomment to make GRUB remember the last selection. This requires</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # setting &#39;GRUB_DEFAULT=saved&#39; above.</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-#GRUB_SAVEDEFAULT=true</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+GRUB_SAVEDEFAULT=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # Uncomment to disable submenus in boot menu</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-#GRUB_DISABLE_SUBMENU=y</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+GRUB_DISABLE_SUBMENU=y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # Probing for other operating systems is disabled for security reasons. Read</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # documentation on GRUB_DISABLE_OS_PROBER, if still want to enable this</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # functionality install os-prober and uncomment to detect and include other</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # operating systems.</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">-#GRUB_DISABLE_OS_PROBER=false</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">+GRUB_DISABLE_OS_PROBER=false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo grub-mkconfig --output=/boot/grub/grub.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="install-everything" tabindex="-1"><a class="header-anchor" href="#install-everything"><span>Install Everything</span></a></h4><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo mkdir --parents /boot/EFI/Boot</span></span>
<span class="line"><span>$ sudo cp /boot/EFI/arch/grubx64.efi /boot/EFI/Boot/grubx64.efi</span></span>
<span class="line"><span>$ sudo cp /usr/share/shim-signed/shimx64.efi /boot/EFI/Boot/bootx64.efi</span></span>
<span class="line"><span>$ sudo cp /usr/share/shim-signed/mmx64.efi /boot/EFI/Boot/mmx64.efi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell-session line-numbers-mode" data-highlighter="shiki" data-ext="shell-session" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell-session"><span class="line"><span>$ sudo efibootmgr --unicode --disk /dev/sda --part 1 --create --label &quot;shim&quot; --loader /boot/EFI/Boot/bootx64.efi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="my-boot-layout" tabindex="-1"><a class="header-anchor" href="#my-boot-layout"><span>My <code>/boot</code> Layout</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>boot/</span></span>
<span class="line"><span>├── EFI/</span></span>
<span class="line"><span>│   ├── arch/</span></span>
<span class="line"><span>│   │   └── grubx64.efi</span></span>
<span class="line"><span>│   ├── Boot/</span></span>
<span class="line"><span>│   │   ├── bootx64.efi</span></span>
<span class="line"><span>│   │   ├── grubx64.efi</span></span>
<span class="line"><span>│   │   └── mmx64.efi</span></span>
<span class="line"><span>│   └── Microsoft/</span></span>
<span class="line"><span>│       ├── Boot/</span></span>
<span class="line"><span>│       └── Recovery/</span></span>
<span class="line"><span>├── grub/</span></span>
<span class="line"><span>│   ├── fonts/</span></span>
<span class="line"><span>│   │   └── unicode.pf2</span></span>
<span class="line"><span>│   ├── grub.cfg</span></span>
<span class="line"><span>│   ├── grubenv</span></span>
<span class="line"><span>│   ├── locale/</span></span>
<span class="line"><span>│   │   └── *.mo</span></span>
<span class="line"><span>│   ├── themes/</span></span>
<span class="line"><span>│   │   └── starfield/</span></span>
<span class="line"><span>│   └── x86_64-efi/</span></span>
<span class="line"><span>│       └── *.mod</span></span>
<span class="line"><span>├── initramfs-linux-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-lts.img</span></span>
<span class="line"><span>├── initramfs-linux-zen-fallback.img</span></span>
<span class="line"><span>├── initramfs-linux-zen.img</span></span>
<span class="line"><span>├── initramfs-linux.img</span></span>
<span class="line"><span>├── MOK.cer</span></span>
<span class="line"><span>├── vmlinuz-linux</span></span>
<span class="line"><span>├── vmlinuz-linux-lts</span></span>
<span class="line"><span>└── vmlinuz-linux-zen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><a href="https://wiki.archlinux.org/title/Unified_Extensible_Firmware_Interface/Secure_Boot#shim_with_key" target="_blank" rel="noopener noreferrer">Unified Extensible Firmware Interface/Secure Boot - ArchWiki</a> <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section>`,66)])])}const t=n(l,[["render",p]]),o=JSON.parse('{"path":"/2023/posts/2023-03-08-install-arch-linux-with-windows.html","title":"Install Arch Linux with Windows","lang":"en-US","frontmatter":{"category":["Posts"],"date":"2023-03-08T00:00:00.000Z","modified":"2025-09-20T15:07:39.000Z","tags":["Arch_Linux","Linux","Windows"],"title":"Install Arch Linux with Windows","description":"BIOS Setup change hard drive mode from “RAID” to “ACHI/NVME” Partitioning for EFI System disable “Secure Boot” boot Arch Linux ISO [Optional] Connect from Another Device SSH fro...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Install Arch Linux with Windows\\",\\"image\\":[\\"https://cdn.liblaf.me/img/2023/2023-03-08T062206Z.png\\",\\"https://cdn.liblaf.me/img/2023/2023-03-08T062232Z.png\\"],\\"datePublished\\":\\"2023-03-08T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"liblaf\\",\\"url\\":\\"https://github.com/liblaf\\"}]}"],["meta",{"property":"og:url","content":"https://hope.liblaf.me/2023/posts/2023-03-08-install-arch-linux-with-windows.html"}],["meta",{"property":"og:site_name","content":"liblaf"}],["meta",{"property":"og:title","content":"Install Arch Linux with Windows"}],["meta",{"property":"og:description","content":"BIOS Setup change hard drive mode from “RAID” to “ACHI/NVME” Partitioning for EFI System disable “Secure Boot” boot Arch Linux ISO [Optional] Connect from Another Device SSH fro..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.liblaf.me/img/2023/2023-03-08T062206Z.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"article:tag","content":"Windows"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"Arch_Linux"}],["meta",{"property":"article:published_time","content":"2023-03-08T00:00:00.000Z"}]]},"git":{},"readingTime":{"minutes":6.74,"words":2022},"filePathRelative":"2023/posts/2023-03-08-install-arch-linux-with-windows.md","excerpt":"<h2>BIOS Setup</h2>\\n<ul>\\n<li>change hard drive mode from “RAID” to “ACHI/NVME”</li>\\n</ul>\\n<h2>Partitioning for EFI System</h2>\\n<ul>\\n<li>disable “Secure Boot”</li>\\n<li>boot Arch Linux ISO</li>\\n</ul>\\n<h3>[Optional] Connect from Another Device</h3>\\n<div class=\\"language-shell-session line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell-session\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-shell-session\\"><span class=\\"line\\"><span>root@archiso ~ # passwd</span></span>\\n<span class=\\"line\\"><span>New password:</span></span>\\n<span class=\\"line\\"><span>Retype new password:</span></span>\\n<span class=\\"line\\"><span>passwd: password updated succesfully</span></span>\\n<span class=\\"line\\"><span>root@archiso ~ # systemctl start sshd</span></span>\\n<span class=\\"line\\"><span>root@archiso ~ # systemctl status sshd</span></span>\\n<span class=\\"line\\"><span>● sshd.service - OpenSSH Daemon</span></span>\\n<span class=\\"line\\"><span>     Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; preset: disabled)</span></span>\\n<span class=\\"line\\"><span>     Active: active (running) since Wed 2023-03-08 06:08:32 UTC; 1min 36s ago</span></span>\\n<span class=\\"line\\"><span>   Main PID: 508 (sshd)</span></span>\\n<span class=\\"line\\"><span>      Tasks: 1 (limit: 19074)</span></span>\\n<span class=\\"line\\"><span>     Memory: 4.2M</span></span>\\n<span class=\\"line\\"><span>        CPU: 145ms</span></span>\\n<span class=\\"line\\"><span>     CGroup: /system.slice/sshd.service</span></span>\\n<span class=\\"line\\"><span>             └─508 \\"sshd: /usr/bin/sshd -D [listener] 0 of 10-100 startups\\"</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>Mar 08 06:08:32 archiso systemd[1]: Started OpenSSH Daemon.</span></span>\\n<span class=\\"line\\"><span>Mar 08 06:08:33 archiso sshd[508]: Server listening on 0.0.0.0 port 22.</span></span>\\n<span class=\\"line\\"><span>Mar 08 06:08:33 archiso sshd[508]: Server listening on :: port 22.</span></span>\\n<span class=\\"line\\"><span>root@archiso ~ # ip addr</span></span>\\n<span class=\\"line\\"><span>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></span>\\n<span class=\\"line\\"><span>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></span>\\n<span class=\\"line\\"><span>    inet 127.0.0.1/8 scope host lo</span></span>\\n<span class=\\"line\\"><span>       valid_lft forever preferred_lft forever</span></span>\\n<span class=\\"line\\"><span>    inet6 ::1/128 scope host</span></span>\\n<span class=\\"line\\"><span>       valid_lft forever preferred_lft forever</span></span>\\n<span class=\\"line\\"><span>2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000</span></span>\\n<span class=\\"line\\"><span>    link/ether 08:00:27:12:bc:70 brd ff:ff:ff:ff:ff:ff</span></span>\\n<span class=\\"line\\"><span>    inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3</span></span>\\n<span class=\\"line\\"><span>       valid_lft 86284sec preferred_lft 86284sec</span></span>\\n<span class=\\"line\\"><span>    inet6 fe80::a00:27ff:fe12:bc70/64 scope link</span></span>\\n<span class=\\"line\\"><span>       valid_lft forever preferred_lft forever</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{t as comp,o as data};
